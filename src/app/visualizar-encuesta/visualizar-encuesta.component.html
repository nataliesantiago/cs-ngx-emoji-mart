<div class="encuesta">
  <perfect-scrollbar class="contenedor-encuesta" [config]="{suppressScrollX:true}">
    <div *ngIf="encuesta">
      <div class="row wrap centrado">
        <div class="container-principal">
          <h3>{{encuesta.nombre}}</h3>
          <div *ngIf="preguntas.length > 0">
            <div *ngFor="let pregunta of preguntas; let i = index;">
              {{i + 1}}. {{pregunta.enunciado}}
              <div *ngIf="pregunta.id_tipo == 1" class="padre-contador">

                <div class="row wrap contador-padre" *ngFor="let itemDos of arrayDos(pregunta.maximo); let h = index">
                  <div class="hijo">
                    <button *ngFor="let item of arrayOne(pregunta.minimo, pregunta.maximo, h); let j = index"
                      mat-mini-fab color="basic" class="contador"
                      [ngClass]="{ 'icono-seleccionado': activarBoton(pregunta.respuesta, ((h * 5) + (j + 1))) }"
                      (click)="agregarRespuesta(i, ((h * 5) + (j + 1)))"> {{ (h * 5) + (j + 1) }} </button>
                  </div>
                </div>

              </div>

              <div *ngIf="pregunta.id_tipo == 2">
                <br>
                <div class="row wrap centrado">
                  <a mat-icon-button (click)="agregarRespuesta(i, 1)">
                    <mat-icon [ngClass]="{ 'icono-manos': activarBoton(pregunta.respuesta, 1) }" class="icono-inicial">
                      thumb_up</mat-icon>
                  </a>
                  <a mat-icon-button (click)="agregarRespuesta(i, 2)">
                    <mat-icon [ngClass]="{ 'icono-manos': activarBoton(pregunta.respuesta, 2) }" class="icono-inicial">
                      thumb_down</mat-icon>
                  </a>
                </div>
                <br>
              </div>

              <div *ngIf="pregunta.id_tipo == 4">
                <br>
                <div class="row wrap">
                  <a mat-icon-button (click)="agregarRespuesta(i, 1)">
                    <mat-icon *ngIf="validarEstrellasMayor(pregunta.respuesta, 1)">star</mat-icon>
                    <mat-icon *ngIf="validarEstrellasMenor(pregunta.respuesta, 1)">star_border</mat-icon>
                  </a>
                  <a mat-icon-button (click)="agregarRespuesta(i, 2)">
                    <mat-icon *ngIf="validarEstrellasMayor(pregunta.respuesta, 2)">star</mat-icon>
                    <mat-icon *ngIf="validarEstrellasMenor(pregunta.respuesta, 2)">star_border</mat-icon>
                  </a>
                  <a mat-icon-button (click)="agregarRespuesta(i, 3)">
                    <mat-icon *ngIf="validarEstrellasMayor(pregunta.respuesta, 3)">star</mat-icon>
                    <mat-icon *ngIf="validarEstrellasMenor(pregunta.respuesta, 3)">star_border</mat-icon>
                  </a>
                  <a mat-icon-button (click)="agregarRespuesta(i, 4)">
                    <mat-icon *ngIf="validarEstrellasMayor(pregunta.respuesta, 4)">star</mat-icon>
                    <mat-icon *ngIf="validarEstrellasMenor(pregunta.respuesta, 4)">star_border</mat-icon>
                  </a>
                  <a mat-icon-button (click)="agregarRespuesta(i, 5)">
                    <mat-icon *ngIf="validarEstrellasMayor(pregunta.respuesta, 5)">star</mat-icon>
                    <mat-icon *ngIf="validarEstrellasMenor(pregunta.respuesta, 5)">star_border</mat-icon>
                  </a>
                </div>
                <br>
              </div>

              <div *ngIf="pregunta.id_tipo == 3">
                <br>
                <div class="row wrap caras-encuesta">
                  <a mat-icon-button [ngClass]="{ 'icono-seleccionado': activarBoton(pregunta.respuesta, 1) }"
                    (click)="agregarRespuesta(i, 1)">
                    <ngx-emoji emoji="white_frowning_face" set="google" size="20"></ngx-emoji>
                  </a>
                  <a mat-icon-button [ngClass]="{ 'icono-seleccionado': activarBoton(pregunta.respuesta, 2) }"
                    (click)="agregarRespuesta(i, 2)">
                    <ngx-emoji emoji="slightly_frowning_face" set="google" size="20"></ngx-emoji>
                  </a>
                  <a mat-icon-button [ngClass]="{ 'icono-seleccionado': activarBoton(pregunta.respuesta, 3) }"
                    (click)="agregarRespuesta(i, 3)">
                    <ngx-emoji emoji="neutral_face" set="google" size="20"></ngx-emoji>
                  </a>
                  <a mat-icon-button [ngClass]="{ 'icono-seleccionado': activarBoton(pregunta.respuesta, 4) }"
                    (click)="agregarRespuesta(i, 4)">
                    <ngx-emoji emoji="slightly_smiling_face" set="google" size="20"></ngx-emoji>
                  </a>
                  <a mat-icon-button [ngClass]="{ 'icono-seleccionado': activarBoton(pregunta.respuesta, 5) }"
                    (click)="agregarRespuesta(i, 5)">
                    <ngx-emoji emoji="smiley" set="google" size="20"></ngx-emoji>
                  </a>
                </div>
                <br>
              </div>

              <div *ngIf="pregunta.id_tipo == 5">
                <br>
                <mat-form-field appearance="outline" class="texto">
                  <textarea matInput class="campo-texto" maxlength="{{pregunta.maximo}}" name="notas"
                    [(ngModel)]="pregunta.respuesta_texto"></textarea>
                </mat-form-field>
                <br>
              </div>
            </div>
            <button class="custom__btn custom__btn--accept" (click)="enviarFormulario()">Enviar</button>
          </div>
        </div>
      </div>
    </div>
  </perfect-scrollbar>
</div>